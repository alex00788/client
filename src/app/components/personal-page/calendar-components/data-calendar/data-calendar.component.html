<div class="personalDataClass">
  <button class="btnSettingsRecords" (click)="switchData()" *ngIf="!personalData"> Мои данные</button>
  <div *ngIf="personalData">
    <div class="now">
      <div class="title">
        <strong> Мои данные </strong>
        <button class="btnClosePersonalData" (click)="switchData()">&times;</button>
      </div>
      <div class="currentUser">
        <div>
          <strong> Имя: </strong>
        </div>
        <span> {{dateService.currentUser | async}} </span>
      </div>
      <div class="currentUser">
        <div>
          <strong> Роль: </strong>
        </div>
        <span> {{dateService.currentUserRole | async}} </span>
      </div>
      <div class="currentUser">
        <div>
          <strong> Остаток: </strong>
        </div>
        <span> {{dateService.remainingFunds | async}} </span>
      </div>
      <button class="btnSettingsRecords" (click)="switchSittingsData()">
        <strong > Настройки </strong>
      </button>
    </div>

    <div class="settingsRecordsClass" *ngIf="settingsRecords">
      <button class="btnSettingsRecords">
        максимальное кол-во мест в записи
      </button>
      <button class="btnSettingsRecords">
        настроить время начала и окончания записи
      </button>
      <button class="btnSettingsRecords">
        показать данные за выбранную неделю / за 1 день
      </button>
      <button class="btnSettingsRecords">
        показать дни когда я записан
      </button>
    </div>
  </div>
</div>






<section class="sectionClass">


  <div class="selectedDate">
    <strong>
      {{dateService.date | async | momentTransformDate: 'DD.MM.YYYY'}}
    </strong>
    <hr>
  </div>



  <div class="currentHours" *ngFor="let currentHour of currentDay">
    <div class="currentHour">
      {{currentHour.time}} : 00
    </div>
    <div class="dataList" *ngFor="let person of currentHour.users; index as i">
      <div class="inline">
        {{i + 1}} {{person.nameUser}}
        <button class="btnDelete" (click)="deletePerson(person.id, person.userId)">&times;</button>
      </div>
    </div>

    <form [formGroup]="form" (submit)="submit()">
      <div *ngIf="currentHour.time === newEntryHasBeenOpened">
        <select #inputElement formControlName="newEntry" (click)="setValueForRec(inputElement.value)">
          <option class="inputClass" *ngFor="let i of allUsers" [value]="[i.id, currentHour.time]">
            {{i.surnameUser}} {{i.nameUser}}
          </option>

        </select>
        <div class="futFormBtn">
          <button class="btn btnDisable" type="submit" [disabled]="form.invalid || disabledBtnRecord"
          > записать
          </button>
          <button class="btn" type="button" (click)="cancel()"> отменить</button>
        </div>
      </div>
    </form>


    <button *ngIf="currentHour.time !== newEntryHasBeenOpened"
            class="dataList"
            (click)="currentHourTime(currentHour.time)"
    >
      +
    </button>
  </div>
</section>
